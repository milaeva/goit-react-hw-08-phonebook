{"version":3,"sources":["redux/store.js","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/Header/Header.js","components/PrivateRoute/PrivateRoute.js","components/PublicRoute/PublicRoute.js","components/App/App.js","index.js","redux/auth/auth-selectors.js","redux/auth/auth-slice.js","service/contacts-api.js","redux/auth/auth-operations.js","components/UserMenu/UserMenu.module.css","components/Header/Header.module.css","components/AuthNav/AuthNav.module.css","redux/contacts/contacts-operations.js","redux/contacts/contacts-selectors.js","redux/contacts/contacts-actions.js","redux/contacts/contacts-reducer.js"],"names":["authPersistConfig","key","storage","whitelist","store","configureStore","reducer","auth","persistReducer","authReducer","contacts","contactsReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","devTools","process","persistor","persistStore","UserMenu","dispatch","useDispatch","email","useSelector","authSelectors","getUserEmail","className","s","userMenu","text","mail","type","button","onClick","authOperations","logOut","AuthNav","to","Header","isLoggedIn","getIsLoggedIn","wrapper","Box","sx","flexGrow","AppBar","position","Toolbar","nav","exact","link","activeClassName","PrivateRoute","children","redirectedTo","props","PublicRoute","restricted","HomePage","lazy","RegisterPage","LoginPage","ContactsPage","App","isGetCurrentUser","getIsGetCurrentUser","useEffect","getCurrentUser","fallback","path","render","loading","document","getElementById","state","user","getToken","token","authSlice","createSlice","name","initialState","extraReducers","register","fulfilled","payload","logIn","pending","_","rejected","axios","defaults","baseURL","headers","common","Authorization","phoneBookApi","getContacts","get","then","data","addContact","contact","post","deleteContact","id","delete","editContact","number","patch","registerNewUser","credentials","a","loginUser","persistToken","logOutUser","createAsyncThunk","console","log","thunkAPI","getState","rejectWithValue","module","exports","message","contactsOperations","result","getItems","items","getFilter","filter","contactsSelectors","getVisibleItems","createSelector","item","toLowerCase","includes","changeFilter","createAction","createReducer","map","combineReducers"],"mappings":"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","file":"static/js/main.b8e224fc.chunk.js","sourcesContent":["import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n  REHYDRATE,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport { contactsReducer } from './contacts';\nimport { authReducer } from './auth';\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: contactsReducer,\n  },\n\n  middleware: getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n","import { useSelector, useDispatch } from 'react-redux';\nimport { authOperations, authSelectors } from 'redux/auth';\nimport s from './UserMenu.module.css';\n\nconst UserMenu = () => {\n  const dispatch = useDispatch();\n  const email = useSelector(authSelectors.getUserEmail);\n\n  return (\n    <div className={s.userMenu}>\n      <p className={s.text}>Welcome,</p>\n      <p className={s.mail}>{email}</p>\n      <button\n        type=\"button\"\n        className={s.button}\n        onClick={() => dispatch(authOperations.logOut())}\n      >\n        Exit\n      </button>\n    </div>\n  );\n};\n\nexport default UserMenu;\n","import { NavLink } from 'react-router-dom';\nimport s from './AuthNav.module.css';\n\nconst AuthNav = () => (\n  <>\n    <NavLink to=\"/login\" className={s.button}>\n      LogIn\n    </NavLink>\n    <NavLink to=\"/register\" className={s.button}>\n      SignUp\n    </NavLink>\n  </>\n);\n\nexport default AuthNav;\n","import { useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Box from '@material-ui/core/Box';\nimport Toolbar from '@material-ui/core/Toolbar';\n\nimport UserMenu from 'components/UserMenu';\nimport AuthNav from 'components/AuthNav';\n\nimport { authSelectors } from 'redux/auth';\nimport s from './Header.module.css';\n\nconst Header = () => {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <div className={s.wrapper}>\n      <Box sx={{ flexGrow: 1 }}>\n        <AppBar position=\"fixed\">\n          <Toolbar>\n            <nav className={s.nav}>\n              <NavLink\n                to=\"/\"\n                exact\n                className={s.link}\n                activeClassName=\"activeLink\"\n              >\n                Home\n              </NavLink>\n\n              {isLoggedIn && (\n                <NavLink\n                  to=\"/contacts\"\n                  exact\n                  className={s.link}\n                  activeClassName=\"activeLink\"\n                >\n                  Contacts\n                </NavLink>\n              )}\n            </nav>\n            {isLoggedIn ? <UserMenu /> : <AuthNav />}\n          </Toolbar>\n        </AppBar>\n      </Box>\n    </div>\n  );\n};\n\nexport default Header;\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router';\nimport { authSelectors } from 'redux/auth';\n\nconst PrivateRoute = ({ children, redirectedTo = './', ...props }) => {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <Route {...props}>\n      {isLoggedIn ? children : <Redirect to={redirectedTo} />}\n    </Route>\n  );\n};\n\nexport default PrivateRoute;\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router';\nimport { authSelectors } from 'redux/auth';\n\nconst PublicRoute = ({\n  children,\n  restricted = false,\n  redirectedTo = './',\n  ...props\n}) => {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <Route {...props}>\n      {isLoggedIn && restricted ? <Redirect to={redirectedTo} /> : children}\n    </Route>\n  );\n};\n\nexport default PublicRoute;\n","import ReactNotification from 'react-notifications-component';\nimport { useEffect, Suspense, lazy } from 'react';\nimport 'react-notifications-component/dist/theme.css';\nimport { Switch, Redirect, Route } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { authOperations, authSelectors } from 'redux/auth';\nimport Header from 'components/Header';\nimport PrivateRoute from 'components/PrivateRoute';\nimport PublicRoute from 'components/PublicRoute';\n\nconst HomePage = lazy(() => import('../../pages/HomePage'));\nconst RegisterPage = lazy(() => import('../../pages/RegisterPage'));\nconst LoginPage = lazy(() => import('../../pages/LoginPage'));\nconst ContactsPage = lazy(() => import('../../pages/ContactsPage'));\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const isGetCurrentUser = useSelector(authSelectors.getIsGetCurrentUser);\n\n  useEffect(() => dispatch(authOperations.getCurrentUser()), [dispatch]);\n\n  return (\n    <>\n      {!isGetCurrentUser && (\n        <>\n          <ReactNotification />\n          <Header />\n\n          <Suspense fallback={<p>Load...</p>}>\n            <Switch>\n              <PublicRoute exact path=\"/\">\n                <HomePage />\n              </PublicRoute>\n\n              <PublicRoute\n                exact\n                path=\"/register\"\n                redirectedTo=\"/contacts\"\n                restricted\n              >\n                <RegisterPage />\n              </PublicRoute>\n\n              <PublicRoute\n                exact\n                path=\"/login\"\n                redirectedTo=\"/contacts\"\n                restricted\n              >\n                <LoginPage />\n              </PublicRoute>\n\n              <PrivateRoute exact path=\"/contacts\" redirectedTo=\"/login\">\n                <ContactsPage />\n              </PrivateRoute>\n\n              <Route>\n                <Redirect to=\"/\" />\n              </Route>\n            </Switch>\n          </Suspense>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default App;\n","import { StrictMode } from 'react';\nimport { render } from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/es/integration/react';\nimport { persistor, store } from './redux/store';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './components/App';\n\nrender(\n  <StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </StrictMode>,\n  document.getElementById('root'),\n);\n","const getIsLoggedIn = state => state.auth.isLoggedIn;\n\nconst getUserEmail = state => state.auth.user.email;\n\nconst getToken = state => state.auth.token;\n\nconst getIsGetCurrentUser = state => state.auth.isGetCurrentUser;\n\nconst authSelectors = {\n  getIsLoggedIn,\n  getUserEmail,\n  getToken,\n  getIsGetCurrentUser,\n};\n\nexport default authSelectors;\n","import { createSlice } from '@reduxjs/toolkit';\nimport authOperations from './auth-operations';\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isGetCurrentUser: false,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, { payload }) {\n      state.user = payload.user;\n      state.token = payload.token;\n      state.isLoggedIn = true;\n    },\n\n    [authOperations.logIn.fulfilled](state, { payload }) {\n      state.user = payload.user;\n      state.token = payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.getCurrentUser.pending](state, _) {\n      state.isGetCurrentUser = true;\n    },\n\n    [authOperations.getCurrentUser.fulfilled](state, { payload }) {\n      state.user.name = payload.name;\n      state.user.email = payload.email;\n      state.isLoggedIn = true;\n      state.isGetCurrentUser = false;\n    },\n\n    [authOperations.getCurrentUser.rejected](state, _) {\n      state.isGetCurrentUser = false;\n    },\n\n    [authOperations.logOut.fulfilled](state, _) {\n      state.user = null;\n      state.token = null;\n      state.isLoggedIn = false;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset(token) {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nconst getContacts = () => {\n  return axios.get('/contacts').then(({ data }) => data);\n};\n\nconst addContact = contact => {\n  return axios.post('/contacts', contact).then(({ data }) => data);\n};\n\nconst deleteContact = id => {\n  return axios.delete(`/contacts/${id}`);\n};\n\nconst editContact = ({ id, name, number }) => {\n  return axios\n    .patch(`/contacts/${id}`, { name, number })\n    .then(({ data }) => data);\n};\n\nconst registerNewUser = async credentials => {\n  return axios.post('/users/signup', credentials).then(({ data }) => {\n    token.set(data.token);\n    return data;\n  });\n};\n\nconst loginUser = credentials => {\n  return axios.post('/users/login', credentials).then(({ data }) => {\n    token.set(data.token);\n    return data;\n  });\n};\n\nconst getCurrentUser = persistToken => {\n  token.set(persistToken);\n  return axios.get('/users/current').then(({ data }) => {\n    return data;\n  });\n};\n\nconst logOutUser = () => {\n  axios.post('/users/logout');\n  token.unset();\n};\n\nconst phoneBookApi = {\n  getContacts,\n  addContact,\n  deleteContact,\n  editContact,\n  registerNewUser,\n  loginUser,\n  getCurrentUser,\n  logOutUser,\n};\nexport default phoneBookApi;\n","import phoneBookApi from 'service/contacts-api';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\nconst register = createAsyncThunk('auth/register', async credentials => {\n  try {\n    return await phoneBookApi.registerNewUser(credentials);\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nconst logIn = createAsyncThunk('auth/login', async credentials => {\n  try {\n    return await phoneBookApi.loginUser(credentials);\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nconst getCurrentUser = createAsyncThunk(\n  'auth/getCurrentUser',\n  async (_, thunkAPI) => {\n    try {\n      const state = thunkAPI.getState();\n      const token = state.auth.token;\n      if (!token) {\n        return thunkAPI.rejectWithValue();\n      }\n      return await phoneBookApi.getCurrentUser(token);\n    } catch (error) {\n      console.log(error);\n    }\n  },\n);\n\nconst logOut = createAsyncThunk('auth/logout', async () => {\n  try {\n    return await phoneBookApi.logOutUser();\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nconst authOperations = { register, logIn, getCurrentUser, logOut };\n\nexport default authOperations;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userMenu\":\"UserMenu_userMenu__3pieI\",\"avatar\":\"UserMenu_avatar__kjnyw\",\"text\":\"UserMenu_text__21-7O\",\"mail\":\"UserMenu_mail__DBCmU\",\"button\":\"UserMenu_button__1l1-A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Header_nav__3cINO\",\"link\":\"Header_link__1c4Iu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"AuthNav_button__1JIOu\"};","import phoneBookApi from 'service/contacts-api';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\nconst getContacts = createAsyncThunk(\n  'contacts/fetchContacts',\n  async (_, { rejectWithValue }) => {\n    try {\n      const contacts = await phoneBookApi.getContacts();\n      return contacts;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);\n\nconst addContact = createAsyncThunk(\n  'contacts/addContact',\n  async (contact, { rejectWithValue }) => {\n    try {\n      const result = await phoneBookApi.addContact(contact);\n      return result;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);\n\nconst deleteContact = createAsyncThunk(\n  'contacts/deleteContact',\n  async (id, { rejectWithValue }) => {\n    try {\n      await phoneBookApi.deleteContact(id);\n      return id;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);\n\nconst editContact = createAsyncThunk(\n  'contacts/editContact',\n  async (contact, { rejectWithValue }) => {\n    try {\n      const result = await phoneBookApi.editContact(contact);\n      return result;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);\n\nconst contactsOperations = {\n  addContact,\n  deleteContact,\n  getContacts,\n  editContact,\n};\n\nexport default contactsOperations;\n","import { createSelector } from 'reselect';\n\nconst getItems = state => state.contacts.items;\n\nconst getFilter = state => state.contacts.filter;\n\nconst getVisibleItems = createSelector(\n  [getItems, getFilter],\n  (items, filter) => {\n    return items.filter(\n      item =>\n        item.name.toLowerCase().includes(filter.toLowerCase()) ||\n        item.number.includes(filter),\n    );\n  },\n);\n\nconst contactsSelectors = { getItems, getFilter, getVisibleItems };\n\nexport default contactsSelectors;\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const changeFilter = createAction('contacts/changeFilter');\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\n\nimport contactsOperations from './contacts-operations';\nimport { changeFilter } from './contacts-actions';\n\nconst { getContacts, addContact, deleteContact, editContact } =\n  contactsOperations;\n\nconst items = createReducer([], {\n  [getContacts.fulfilled]: (_, { payload }) => payload,\n\n  [addContact.fulfilled]: (state, { payload }) => [payload, ...state],\n\n  [deleteContact.fulfilled]: (state, { payload }) =>\n    state.filter(({ id }) => id !== payload),\n\n  [editContact.fulfilled]: (state, { payload }) => {\n    return [...state].map(contact => {\n      if (contact.id === payload.id) {\n        return payload;\n      }\n      return contact;\n    });\n  },\n});\n\nconst filter = createReducer('', {\n  [changeFilter]: (_, { payload }) => payload,\n});\n\nexport default combineReducers({ items, filter });\n"],"sourceRoot":""}